.TH MP_FILEMAIL 3 "$Date$"
.SH NAME
mp_filemail \- mail_parser handler for filing mail messages in database
.SH SYNOPSIS
.nf
mp_filemail_handler( $message, $pfarray );
.fi
.SH DESCRIPTION
The mp_filemail handler is intended to be launched by the
mail_parser(1) utility. All incoming email messages matching
the sender and subject expression are saved to the database named 
in the parameter file, under the given schema (usually "Mail1.2" or 
derivative). The archive_dir parameter is passed to filemail(3P) 
as the top-level archive directory of saved messages. The dirmode and 
filemode parameters govern the access permissions of the archive mail files 
that are created.
.SH OPTIONS
.SH FILES
.SH ENVIRONMENT
.SH PARAMETER FILE
.nf
% cat mail_parser.pf
Handlers &Tbl{
	&Arr{
		handler		mp_filemail
		sender		.*
		subject		.*
		database	mp_maildb
		archive_dir	mp_mail_archive
		schema		Mail1.2
		dirmode         0755
		filemode        0444
	}
}
%
.fi
.SH EXAMPLE
.ft CW
.RS .2i
.RE
.ft R
.SH RETURN VALUES
.SH LIBRARY
.SH DIAGNOSTICS
.SH "SEE ALSO"
.nf
mail_parser(1), filemail(3P)
.fi
.SH "BUGS AND CAVEATS"
.SH AUTHOR
.nf
Kent Lindquist 
Lindquist Consulting
.fi
